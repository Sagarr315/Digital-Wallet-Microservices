# ğŸš€ Digital Wallet Microservices System  

**Java | Spring Boot | Microservices | Kafka | MySQL | Eureka | API Gateway | JWT**

A fully functional **Digital Wallet System** built using a **production-grade microservices architecture**, including:

- Secure authentication  
- Wallet management  
- Payment validation  
- Transaction processing with ledger  
- Kafka-based event-driven notifications  

This project demonstrates:
- Scalable backend engineering  
- Service isolation  
- Inter-service communication  
- Asynchronous messaging  
- Modern cloud-native patterns  

---

## ğŸ—ï¸ Architecture Overview  

The system consists of **5 core microservices**, along with:

- **Eureka Server** â€” Service discovery  
- **API Gateway** â€” Unified entry point  
- **Kafka** â€” Asynchronous event messaging  
- **MySQL** â€” Database per service  

---

## ğŸ“ High-Level Architecture Diagram (Text Version)  

                 +------------------+
                 |   API Gateway    |
                 +---------+--------+
                           |
                +----------+----------+
                |                     |
         +------+-------+     +-------+-------+
         |  Auth-Service |     |  Wallet-Service |
         +------+-------+     +-------+-------+
                |                     |
        +-------+-------+     +-------+-------+
        | Payment-Service |     | Transaction-Service |
        +-------+--------+     +-------+--------+
                |                      |
                +----------+-----------+
                           |
                       (Kafka Event)
                           |
                 +---------+---------+
                 | Notification Service |
                 +-------------------+

---

## ğŸ”¥ Key Features  

### âœ… Authentication & Authorization  
- User registration  
- User login  
- JWT token generation  
- Token validation endpoint  

### âœ… Wallet Management  
- Create wallet  
- View balance    
- Link mock bank account  

### âœ… Payment Validation  
- Balance checking  
- Wallet status validation  
- Daily & amount limit enforcement  
- Store validation logs  

### âœ… Transactions & Ledger  
- Send & receive funds  
- Balance deduction & addition  
- Transaction entry storage  
- Double-entry ledger system  

### âœ… Kafka Notifications  
- Asynchronous notification events  
- Sender: *"You sent money"*  
- Receiver: *"You received money"*  

---

## ğŸ—„ï¸ Databases (MySQL â€“ Database per Service)  

| Database Name | Purpose |
|--------------|---------|
| `authdb` | User registration & authentication |
| `walletdb` | Wallet balance & bank account |
| `paymentdb` | Payment validation logs |
| `transactiondb` | Transaction history & ledger |
| `notificationdb` | Kafka-based notifications |


---

### ğŸ“‚ Microservices Structure  
```text
digital-wallet-microservices/
â”‚
â”œâ”€â”€ eureka-server/
â”œâ”€â”€ api-gateway/
â”œâ”€â”€ auth-service/
â”œâ”€â”€ wallet-service/
â”œâ”€â”€ payment-service/
â”œâ”€â”€ transaction-service/
â””â”€â”€ notification-service/
```

### Each Service Contains:
- `controller/`  
- `service/`  
- `repository/`  
- `entity/`  
- `dto/`  
- `config/`  

---

## ğŸŒ API Endpoints (Summary)  

### ğŸ”µ Auth-Service  
- `POST /auth/register`  
- `POST /auth/login`  
- `GET /auth/validate`  

### ğŸŸ¢ Wallet-Service  
- `POST /wallet/create`  
- `GET /wallet/{userId}/balance`  
- `POST /wallet/{userId}/link-bank`  
- Internal:
  - `/wallet/{userId}/deduct`  
  - `/wallet/{userId}/add`  

### ğŸ”´ Transaction-Service  
- `POST /transaction/send`  
- `GET /transaction/history/{userId}`  
- `GET /transaction/{txnId}`  

### ğŸŸ£ Payment-Service  
- `POST /payment/validate`  
- `POST /payment/process`  

### ğŸŸ  Notification-Service  
- `GET /notification/user/{userId}`  
- `DELETE /notification/{id}`  

---

## ğŸ§ª How to Test (Step-by-Step)  

1. Register **2 users**  
2. Login both users â†’ copy JWT tokens  
3. Create wallets for both users  
4. Add balance manually in MySQL  
5. Send money using `/transaction/send`  
6. Verify updated balances  
7. Check transaction history  
8. Check notifications using `/notification/user/{id}`  

---

## ğŸ’¡ Tech Stack  

- Java 17  
- Spring Boot 3  
- Spring MVC  
- Spring Security + JWT  
- Spring Cloud Gateway  
- Spring Cloud Eureka  
- Apache Kafka  
- MySQL  
- Hibernate / JPA  
- Maven  
- Docker (optional)  
- Postman  

---

## ğŸ“˜ How to Run the Project  

### 1ï¸âƒ£ Start MySQL  
Create the following databases:
- `authdb`
- `walletdb`
- `paymentdb`
- `transactiondb`
- `notificationdb`

### 2ï¸âƒ£ Start Kafka & Zookeeper  
- Or use `docker-compose`

### 3ï¸âƒ£ Run Services in This Order:
1. Eureka Server  
2. API Gateway  
3. Auth-Service  
4. Wallet-Service  
5. Payment-Service  
6. Transaction-Service  
7. Notification-Service  


